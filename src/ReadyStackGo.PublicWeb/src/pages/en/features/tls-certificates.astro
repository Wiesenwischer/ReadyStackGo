---
import LandingLayout from '../../../layouts/LandingLayout.astro';
import Header from '../../../components/Header.astro';
import FeaturePage from '../../../components/FeaturePage.astro';
import Footer from '../../../components/Footer.astro';

const lang = 'en';
const icon = `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>`;
---

<LandingLayout title="TLS & Certificates - ReadyStackGo">
	<Header lang={lang} />
	<main class="flex-1">
		<FeaturePage
			lang={lang}
			titleKey="features.tls.title"
			subtitleKey="featurepage.tls.subtitle"
			icon={icon}
		>
			<h2>Flexible Certificate Management</h2>
			<p>
				ReadyStackGo provides comprehensive TLS/HTTPS support with various certificate options.
				Whether self-signed for development, custom certificates for internal use, or Let's Encrypt
				for production environments - you have full control.
			</p>

			<h2>Certificate Options</h2>
			<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4 my-6">
				<div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4">
					<h4 class="font-semibold text-blue-800 dark:text-blue-300 mb-2">Self-Signed</h4>
					<p class="text-blue-700 dark:text-blue-400 text-sm">Automatically generated on first start. Ideal for local development and testing.</p>
				</div>
				<div class="bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4">
					<h4 class="font-semibold text-green-800 dark:text-green-300 mb-2">Custom Certificates</h4>
					<p class="text-green-700 dark:text-green-400 text-sm">Upload PFX or PEM certificates. Perfect for corporate CAs or purchased certificates.</p>
				</div>
				<div class="bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-4">
					<h4 class="font-semibold text-purple-800 dark:text-purple-300 mb-2">Let's Encrypt</h4>
					<p class="text-purple-700 dark:text-purple-400 text-sm">Automatic, free certificates with HTTP-01 or DNS-01 challenge.</p>
				</div>
			</div>

			<h2>Let's Encrypt Integration</h2>
			<p>
				ReadyStackGo supports automatic certificate issuance via Let's Encrypt with two challenge types:
			</p>
			<ul>
				<li><strong>HTTP-01:</strong> Simplest method. ReadyStackGo must be reachable on port 80.</li>
				<li><strong>DNS-01:</strong> For wildcard certificates or when port 80 is not accessible.</li>
			</ul>
			<div class="bg-brand-50 dark:bg-brand-900/20 border border-brand-200 dark:border-brand-800 rounded-lg p-4 my-6">
				<h4 class="font-semibold text-brand-800 dark:text-brand-300 mb-2">DNS-01 Providers:</h4>
				<ul class="text-brand-700 dark:text-brand-400 space-y-1">
					<li><strong>Manual:</strong> TXT records displayed in the UI</li>
					<li><strong>Cloudflare:</strong> Automatic DNS entries via API</li>
				</ul>
			</div>

			<h2>Reverse Proxy Support</h2>
			<p>
				Running ReadyStackGo behind a reverse proxy like nginx, Traefik, or HAProxy?
				No problem! The reverse proxy mode offers three SSL handling options:
			</p>
			<div class="grid md:grid-cols-3 gap-4 my-6">
				<div class="bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4">
					<h4 class="font-semibold text-gray-800 dark:text-gray-300 mb-2">SSL Termination</h4>
					<p class="text-gray-700 dark:text-gray-400 text-sm">The proxy terminates SSL. ReadyStackGo receives HTTP. No certificate needed.</p>
				</div>
				<div class="bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4">
					<h4 class="font-semibold text-gray-800 dark:text-gray-300 mb-2">SSL Passthrough</h4>
					<p class="text-gray-700 dark:text-gray-400 text-sm">The proxy forwards encrypted traffic directly. ReadyStackGo needs a certificate.</p>
				</div>
				<div class="bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4">
					<h4 class="font-semibold text-gray-800 dark:text-gray-300 mb-2">Re-Encryption</h4>
					<p class="text-gray-700 dark:text-gray-400 text-sm">The proxy terminates and re-encrypts. Both sides need certificates.</p>
				</div>
			</div>

			<h2>Automatic Renewal</h2>
			<p>
				Let's Encrypt certificates are automatically renewed:
			</p>
			<ul>
				<li>Background service checks every 12 hours</li>
				<li>Renewal 30 days before expiration</li>
				<li>Status and last renewal visible in the UI</li>
				<li>Errors are logged and displayed</li>
			</ul>

			<h2>Forwarded Headers</h2>
			<p>
				In reverse proxy mode, X-Forwarded-* headers are automatically processed:
			</p>
			<ul>
				<li><strong>X-Forwarded-For:</strong> Detect real client IP</li>
				<li><strong>X-Forwarded-Proto:</strong> HTTPS detection for correct redirects</li>
				<li><strong>X-Forwarded-Host:</strong> Original hostname for URL generation</li>
			</ul>

			<h2>Benefits</h2>
			<ul>
				<li><strong>Flexibility:</strong> Suitable solution for every scenario</li>
				<li><strong>Automation:</strong> Let's Encrypt with auto-renewal</li>
				<li><strong>Proxy-Ready:</strong> Seamless integration with edge proxies</li>
				<li><strong>UI Management:</strong> Everything configurable via the settings page</li>
			</ul>

			<div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mt-6">
				<h4 class="font-semibold text-blue-800 dark:text-blue-300 mb-2">Documentation</h4>
				<p class="text-blue-700 dark:text-blue-400">
					A comprehensive guide with step-by-step instructions for all configuration options
					can be found in the <a href="/en/docs/tls-configuration/" class="underline hover:no-underline">TLS documentation</a>.
				</p>
			</div>
		</FeaturePage>
	</main>
	<Footer lang={lang} />
</LandingLayout>
