---
import LandingLayout from '../../../layouts/LandingLayout.astro';
import Header from '../../../components/Header.astro';
import FeaturePage from '../../../components/FeaturePage.astro';
import Footer from '../../../components/Footer.astro';

const lang = 'en';
const icon = `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>`;
---

<LandingLayout title="RSGo Manifest Format - ReadyStackGo">
	<Header lang={lang} />
	<main class="flex-1">
		<FeaturePage
			lang={lang}
			titleKey="features.manifest.title"
			subtitleKey="featurepage.manifest.subtitle"
			icon={icon}
		>
			<h2>What is the RSGo Manifest Format?</h2>
			<p>
				The RSGo Manifest Format is a YAML-based configuration format developed specifically
				for ReadyStackGo. It extends Docker Compose capabilities with typing, validation,
				metadata, and multi-stack support.
			</p>

			<h2>Basic Structure</h2>
			<pre class="bg-gray-100 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto"><code>{`# RSGo Manifest v0.10
product:
  name: my-application
  displayName: My Application
  description: A sample application
  version: 1.0.0
  author: Your Name
  tags: [web, database]

stacks:
  - name: app
    composeFile: docker-compose.yml
    variables:
      - name: APP_PORT
        type: Port
        description: Application port
        default: "8080"
        required: true`}</code></pre>

			<h2>Product Metadata</h2>
			<p>
				Unlike Docker Compose, RSGo Manifests can contain rich metadata:
			</p>
			<ul>
				<li><strong>displayName:</strong> Display name in the UI</li>
				<li><strong>description:</strong> Detailed description</li>
				<li><strong>version:</strong> Version number following SemVer</li>
				<li><strong>author:</strong> Author or organization</li>
				<li><strong>tags:</strong> Categorization for search and filtering</li>
				<li><strong>icon:</strong> Custom icon for the UI</li>
			</ul>

			<h2>Typed Variables</h2>
			<p>
				Variables have explicit types with automatic UI generation:
			</p>

			<div class="overflow-x-auto my-6">
				<table class="min-w-full bg-white dark:bg-gray-800 rounded-lg">
					<thead class="bg-gray-50 dark:bg-gray-700">
						<tr>
							<th class="px-4 py-2 text-left text-sm font-medium text-gray-900 dark:text-white">Type</th>
							<th class="px-4 py-2 text-left text-sm font-medium text-gray-900 dark:text-white">UI Element</th>
							<th class="px-4 py-2 text-left text-sm font-medium text-gray-900 dark:text-white">Validation</th>
						</tr>
					</thead>
					<tbody class="divide-y divide-gray-200 dark:divide-gray-600">
						<tr><td class="px-4 py-2 text-sm"><code>String</code></td><td class="px-4 py-2 text-sm">Text field</td><td class="px-4 py-2 text-sm">Pattern, Min/Max length</td></tr>
						<tr><td class="px-4 py-2 text-sm"><code>Number</code></td><td class="px-4 py-2 text-sm">Number field</td><td class="px-4 py-2 text-sm">Min/Max value</td></tr>
						<tr><td class="px-4 py-2 text-sm"><code>Boolean</code></td><td class="px-4 py-2 text-sm">Toggle</td><td class="px-4 py-2 text-sm">-</td></tr>
						<tr><td class="px-4 py-2 text-sm"><code>Password</code></td><td class="px-4 py-2 text-sm">Password field</td><td class="px-4 py-2 text-sm">Min length</td></tr>
						<tr><td class="px-4 py-2 text-sm"><code>Port</code></td><td class="px-4 py-2 text-sm">Port input</td><td class="px-4 py-2 text-sm">1-65535</td></tr>
						<tr><td class="px-4 py-2 text-sm"><code>Select</code></td><td class="px-4 py-2 text-sm">Dropdown</td><td class="px-4 py-2 text-sm">Options list</td></tr>
						<tr><td class="px-4 py-2 text-sm"><code>SqlServerConnectionString</code></td><td class="px-4 py-2 text-sm">Builder dialog</td><td class="px-4 py-2 text-sm">Format, Test</td></tr>
					</tbody>
				</table>
			</div>

			<h2>Docker Compose Import</h2>
			<p>
				Existing Docker Compose files can be easily imported:
			</p>

			<div class="bg-brand-50 dark:bg-brand-900/20 border border-brand-200 dark:border-brand-800 rounded-lg p-4 my-6">
				<h4 class="font-semibold text-brand-800 dark:text-brand-300 mb-2">Import Features:</h4>
				<ul class="text-brand-700 dark:text-brand-400 space-y-1">
					<li>Automatic detection of environment variables</li>
					<li>Type inference from variable names (e.g., *_PORT becomes Port type)</li>
					<li>Connection string detection (e.g., SQL Server, PostgreSQL)</li>
					<li>Preservation of original Compose structure</li>
				</ul>
			</div>

			<h2>Variable Groups</h2>
			<p>
				Variables can be organized into logical groups:
			</p>
			<pre class="bg-gray-100 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto"><code>{`variables:
  - name: DB_HOST
    type: String
    group: database
    order: 1

  - name: DB_PORT
    type: Port
    group: database
    order: 2

  - name: API_KEY
    type: Password
    group: authentication
    order: 1`}</code></pre>

			<h2>Advantages over Docker Compose</h2>
			<ul>
				<li><strong>Type Safety:</strong> Explicit types instead of just strings</li>
				<li><strong>Validation:</strong> Values are checked before deployment</li>
				<li><strong>UI Integration:</strong> Automatic form generation</li>
				<li><strong>Multi-Stack:</strong> Multiple stacks in one product</li>
				<li><strong>Metadata:</strong> Rich product information</li>
				<li><strong>Compatibility:</strong> Existing Compose files can be imported</li>
			</ul>
		</FeaturePage>
	</main>
	<Footer lang={lang} />
</LandingLayout>
